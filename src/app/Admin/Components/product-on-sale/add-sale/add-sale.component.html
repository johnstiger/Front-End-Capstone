<div class="container con">
    <form action="" #FormUpdate="ngForm" (ngSubmit)="submit(FormUpdate.value)">
        <div class="row">
            <div class="col-md-4">
                <img class="image" *ngIf="image; else default" src="{{ image }}" alt="product-image">
                <ng-template #default>
                    <img class="image" src="/assets/imgs/product.jpg" alt="product-image">
                </ng-template>
            </div>
            <div class="col-md-8 nameSelect">
                <div *ngIf="error && error.name" class="alert alert-danger">
                    *{{ error.name[0] }}
                </div>
              <label for="">Product Name</label>
              <input type="text" class="form-control" id="productname" *ngIf='!currentPage' [value]="name" disabled>
              <select *ngIf='currentPage' name="name" (change)="onChange($event)" id="selected" class="options field form-control" formControlName="name">
                <option value="0" hidden>Product Name</option>
                <option *ngFor="let product of products" [value]="product.id" id="{{ product.id }}">{{product.name}}</option>
              </select>
                <div *ngIf="error && error.description" class="alert alert-danger">
                    *{{ error.description[0] }}
                </div>

                <label for="">Description</label>
                <textarea name="description" class="form-control field" cols="30" [ngModel]="description" rows="10" placeholder="Descriptions"></textarea>

                <div class="col">
                    <div *ngIf="error && error.price" class="alert alert-danger">
                        *{{ error.price[0] }}
                    </div>
                    <label for="">Price</label>
                    <input type="number" class="form-control" name="price" [ngModel]="price" id="" min="0" placeholder="Price" disabled>
                </div>

                <div class="toggle" *ngIf="selectName && currentPage">
                  <p class="message">You can change the quantity of the each product size</p>
                  <div class="row">
                    <div class="col">
                      Size
                    </div>
                    <div class="col">
                      Quantity
                    </div>
                    <div class="col">

                    </div>
                  </div>
                  <div class="row" *ngFor="let size of allSize">
                      <div class="col">
                        <input type="text" class="form-control" value="{{ size.size }}" name="unit_measure" placeholder="Size" disabled>
                      </div>
                      <div class="col">
                        <input type="number" class="form-control" id="{{ size.id }}" value="{{ size.pivot.avail_unit_measure }}" name="unit_measure" min="1" max="{{ size.pivot.avail_unit_measure  }}" id="" placeholder="Unit">
                      </div>
                      <div class="col" *ngIf="allSize.length > 1">
                        <button type="button" class="btn btn-danger" (click)="delete(size)"><i class="far fa-trash-alt"></i> Remove Size</button>
                      </div>
                  </div>
                </div>

                <!-- If from other page -->
                <div *ngIf="!currentPage">
                  <div class="row" *ngFor="let product of selectedSizes">
                    <div class="col">
                      <label for="">Sizes</label>
                      <input type="text" class="form-control" name="" id="" value="{{ product.size }}" disabled>
                    </div>
                    <div class="col">
                      <label for="">Unit To Sale</label>
                      <input type="text" class="form-control" name="" id="" value="{{ product.pivot.sales_item }}" disabled>
                    </div>
                  </div>
                </div>
                <!-- from other page -->

                <div class="row" *ngIf="selectName">
                    <div class="col">
                        <div *ngIf="error && error.percent_off" class="alert alert-danger">
                            *{{ error.percent_off[0] }}
                        </div>
                        <label for="">Promo</label>
                        <input type="number" class="form-control" name="percent_off" [ngModel]="percent_off" id="" placeholder="Promo price">
                    </div>
                    <div class="col">
                      <div *ngIf="error && error.promo_type" class="alert alert-danger">
                          *{{ error.promo_type[0] }}
                      </div>
                      <label for="">Promo Type</label>
                      <select name="promo_type" id="" [ngModel]="promo_type" class="form-control">
                        <option value="#" hidden>Promo Type</option>
                        <option value="%">Percent Off</option>
                        <option value="Pesos">Pesos Off</option>
                      </select>
                    </div>
                </div>
                <button type="submit" class="btn btn-success field add-product">Add To On Sales</button>
                <a (click)="return()" class="btn btn-success field same">Cancel</a>
            </div>
        </div>
    </form>
</div>
